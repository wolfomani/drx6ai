@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: hsl(240, 10%, 3.9%);
  --foreground: hsl(0, 0%, 98%);
  --muted: hsl(240, 3.7%, 15.9%);
  --muted-foreground: hsl(240, 5%, 64.9%);
  --popover: hsl(240, 10%, 3.9%);
  --popover-foreground: hsl(0, 0%, 98%);
  --card: hsl(240, 10%, 3.9%);
  --card-foreground: hsl(0, 0%, 98%);
  --border: hsl(240, 3.7%, 15.9%);
  --input: hsl(240, 3.7%, 15.9%);
  --primary: hsl(207, 90%, 54%);
  --primary-foreground: hsl(211, 100%, 99%);
  --secondary: hsl(240, 3.7%, 15.9%);
  --secondary-foreground: hsl(0, 0%, 98%);
  --accent: hsl(240, 3.7%, 15.9%);
  --accent-foreground: hsl(0, 0%, 98%);
  --destructive: hsl(0, 62.8%, 30.6%);
  --destructive-foreground: hsl(0, 0%, 98%);
  --ring: hsl(240, 4.9%, 83.9%);
  --radius: 0.5rem;

  /* Dr.X Custom Colors */
  --dr-blue: hsl(207, 90%, 54%);
  --dark-bg: hsl(240, 8%, 12%);
  --dark-surface: hsl(240, 6%, 17%);
  --dark-surface-hover: hsl(240, 5%, 21%);
  --text-primary: hsl(0, 0%, 91%);
  --text-secondary: hsl(0, 0%, 66%);
  --border-dark: hsl(240, 3%, 25%);
}

.dark {
  --background: hsl(240, 10%, 3.9%);
  --foreground: hsl(0, 0%, 98%);
  --muted: hsl(240, 3.7%, 15.9%);
  --muted-foreground: hsl(240, 5%, 64.9%);
  --popover: hsl(240, 10%, 3.9%);
  --popover-foreground: hsl(0, 0%, 98%);
  --card: hsl(240, 10%, 3.9%);
  --card-foreground: hsl(0, 0%, 98%);
  --border: hsl(240, 3.7%, 15.9%);
  --input: hsl(240, 3.7%, 15.9%);
  --primary: hsl(207, 90%, 54%);
  --primary-foreground: hsl(211, 100%, 99%);
  --secondary: hsl(240, 3.7%, 15.9%);
  --secondary-foreground: hsl(0, 0%, 98%);
  --accent: hsl(240, 3.7%, 15.9%);
  --accent-foreground: hsl(0, 0%, 98%);
  --destructive: hsl(0, 62.8%, 30.6%);
  --destructive-foreground: hsl(0, 0%, 98%);
  --ring: hsl(240, 4.9%, 83.9%);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-dark-bg text-text-primary;
    font-family: 'Tajawal', 'Inter', system-ui, sans-serif;
  }

  /* RTL Support */
  [dir="rtl"] {
    text-align: right;
  }

  /* Custom utility classes */
  .dr-blue {
    color: var(--dr-blue);
  }

  .bg-dr-blue {
    background-color: var(--dr-blue);
  }

  .bg-dark-bg {
    background-color: var(--dark-bg);
  }

  .bg-dark-surface {
    background-color: var(--dark-surface);
  }

  .bg-dark-surface-hover {
    background-color: var(--dark-surface-hover);
  }

  .text-text-primary {
    color: var(--text-primary);
  }

  .text-text-secondary {
    color: var(--text-secondary);
  }

  .border-border-dark {
    border-color: var(--border-dark);
  }

  /* Font families */
  .font-arabic {
    font-family: 'Tajawal', system-ui, sans-serif;
  }

  .font-english {
    font-family: 'Inter', system-ui, sans-serif;
  }

  /* Custom animations */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideInFromLeft {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes cognitiveGlow {
    0%, 100% {
      box-shadow: 0 0 5px rgba(59, 130, 246, 0.3);
    }
    50% {
      box-shadow: 0 0 20px rgba(59, 130, 246, 0.6);
    }
  }

  @keyframes slideUp {
    from {
      transform: translateY(20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes pulseGentle {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.7;
    }
  }

  @keyframes bounceGentle {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-3px);
    }
  }

  @keyframes typing {
    0%, 60%, 100% {
      transform: translateY(0);
    }
    30% {
      transform: translateY(-10px);
    }
  }

  .animate-fade-in {
    animation: fadeIn 0.3s ease-in-out;
  }

  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  .animate-pulse-gentle {
    animation: pulseGentle 2s ease-in-out infinite;
  }

  .animate-bounce-gentle {
    animation: bounceGentle 0.6s ease-in-out;
  }

  .animate-typing {
    animation: typing 1.5s ease-in-out infinite;
  }

  .animate-slide-in-left {
    animation: slideInFromLeft 0.3s ease-out;
  }

  .animate-cognitive-glow {
    animation: cognitiveGlow 2s ease-in-out infinite;
  }

  /* Scrollbar styling */
  ::-webkit-scrollbar {
    width: 6px;
  }

  ::-webkit-scrollbar-track {
    background: var(--dark-surface);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--border-dark);
    border-radius: 3px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--dr-blue);
  }

  /* Focus styles */
  .focus-visible\:ring-dr-blue:focus-visible {
    --tw-ring-color: var(--dr-blue);
  }

  /* Transitions */
  .transition-all {
    transition-property: all;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
  }

  .duration-300 {
    transition-duration: 300ms;
  }
}

@layer components {
  /* Component-specific styles */
  .message-bubble {
    @apply px-4 py-3 rounded-2xl shadow-lg;
  }

  .user-message {
    @apply bg-dr-blue text-white rounded-br-md;
  }

  .ai-message {
    @apply bg-dark-surface border border-border-dark text-text-primary rounded-bl-md;
  }

  .suggestion-chip {
    @apply px-3 py-2 rounded-full text-xs font-medium transition-all duration-300 hover:scale-105 border;
  }

  .model-avatar {
    @apply w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold text-white;
  }
}
